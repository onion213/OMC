\documentclass[uplatex,dvipdfmx,a4paper]{jsarticle}
\usepackage{amsmath,amssymb}
\usepackage{txfonts}
\usepackage{latexsym}
\def\qed{\hfill $\Box$}
\newenvironment{question}{\section*{問題}}{}
\newenvironment{solution}{\section*{解答}}{\qed}
\newenvironment{alt-solution}[1][1]{\section*{別解#1}}{\qed}

\title{OMC01 A}
\date{}
\author{}
\begin{document}

\maketitle
\begin{question}
    $N=9+99+999+9999+\cdots+\underbrace{99 \cdots 99}_{321 \text{桁}}$とします．このとき，$N$の各桁の総和を求めてください．
\end{question}

\begin{solution}
    \begin{align*}
        N &= 9+99+999+9999+\cdots+\underbrace{99 \cdots 99}_{321 \text{桁}} \\
        &= \sum_{i=1}^{321}\left(10^i-1\right) \\
        &= \left(\sum_{i=1}^{321}10^i\right) -321 \\
        &= \underbrace{11 \cdots 11}_{321桁}0-321 \\
        &= \underbrace{11 \cdots 11}_{318桁}0000+(1110-321) \\
        &= \underbrace{11 \cdots 11}_{318桁}0000+789
    \end{align*}
    となるので，各桁の総和は $318+7+8+9=342$となる．
\end{solution}

\end{document}
